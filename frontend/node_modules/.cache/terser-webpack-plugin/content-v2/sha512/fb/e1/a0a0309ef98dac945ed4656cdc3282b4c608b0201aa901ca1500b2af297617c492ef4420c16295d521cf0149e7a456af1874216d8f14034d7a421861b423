{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{ruql:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__);var core=__webpack_require__(\"8Y7J\");class DhStaffMainPageModule{}var router_ngfactory=__webpack_require__(\"pMnS\"),ionic_angular_ngfactory=__webpack_require__(\"MKJQ\"),ionic_angular=__webpack_require__(\"sZkV\"),storage_service=__webpack_require__(\"n90K\");class DhStaffMainPage{constructor(auth,storageService,firestore,router){this.auth=auth,this.storageService=storageService,this.firestore=firestore,this.router=router,this.bookings=[],this.total=0}ngOnInit(){var today=new Date,date=today.getFullYear()+\"-\"+(today.getMonth()+1)+\"-\"+today.getDate(),dh=\"Convocation\";this.auth.currentUser.then(res=>{this.storageService.get(res.uid).then(res=>{dh=res[\"DH ID\"],this.firestore.firestore.collection(\"Dining Halls\").doc(dh).get().then(res=>{for(var meal in res.data())this.firestore.firestore.collection(\"Dining Halls/\"+dh+\"/Meals/\"+res.data()[meal]+\"/Order\").where(\"Date\",\"==\",date).get().then(snap=>{this.bookings.push(snap.size),this.total+=snap.size})}).catch(error=>{console.dir(error)})}).catch(err=>{console.dir(err)})}).catch(err=>{console.dir(err)})}mainAction(){this.router.navigate([\"message-list\"])}}var angular_fire_auth=__webpack_require__(\"VRCc\"),angular_fire_firestore=__webpack_require__(\"wD+u\"),router=__webpack_require__(\"iInd\"),RenderType_DhStaffMainPage=core.ob({encapsulation:0,styles:[[\"*[_ngcontent-%COMP%]{font-weight:300}ion-content[_ngcontent-%COMP%]{--background:url('gh61.a673c8b0f6030586378b.jpg')}ion-text[_ngcontent-%COMP%]{position:absolute;top:10%}ion-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:44px;color:#fff;font-style:italic;font-family:cursive}ion-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:10px;color:#fff;font-style:italic;font-family:cursive}.display[_ngcontent-%COMP%]{position:absolute;width:80%;bottom:20%;left:10%}.display[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}.actions[_ngcontent-%COMP%]{position:absolute;bottom:5%;right:2%;color:#fff;font-style:bold;font-size:20px}.actions[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius:9px;--box-shadow:none;--background:linear-gradient(60deg, #D4AF37 0%, #416 100%);text-transform:initial;font-size:12px;display:block;margin-left:8%}\"]],data:{}});function View_DhStaffMainPage_0(_l){return core.Hb(0,[(_l()(),core.qb(0,0,null,null,26,\"ion-content\",[[\"class\",\"ion-padding\"]],null,null,null,ionic_angular_ngfactory.N,ionic_angular_ngfactory.i)),core.pb(1,49152,null,0,ionic_angular.r,[core.h,core.k,core.x],{fullscreen:[0,\"fullscreen\"]},null),(_l()(),core.qb(2,0,null,0,3,\"ion-text\",[],null,null,null,ionic_angular_ngfactory.gb,ionic_angular_ngfactory.B)),core.pb(3,49152,null,0,ionic_angular.rb,[core.h,core.k,core.x],null,null),(_l()(),core.qb(4,0,null,0,1,\"h1\",[],null,null,null,null,null)),(_l()(),core.Gb(-1,null,[\"App Name\"])),(_l()(),core.qb(6,0,null,0,16,\"div\",[[\"class\",\"display\"]],null,null,null,null,null)),(_l()(),core.qb(7,0,null,null,3,\"ion-item\",[],null,null,null,ionic_angular_ngfactory.T,ionic_angular_ngfactory.o)),core.pb(8,49152,null,0,ionic_angular.E,[core.h,core.k,core.x],null,null),(_l()(),core.qb(9,0,null,0,1,\"p\",[],null,null,null,null,null)),(_l()(),core.Gb(10,null,[\" Total Number of Bookings: \",\"\"])),(_l()(),core.qb(11,0,null,null,3,\"ion-item\",[],null,null,null,ionic_angular_ngfactory.T,ionic_angular_ngfactory.o)),core.pb(12,49152,null,0,ionic_angular.E,[core.h,core.k,core.x],null,null),(_l()(),core.qb(13,0,null,0,1,\"p\",[],null,null,null,null,null)),(_l()(),core.Gb(14,null,[\"Meal 1: \",\" orders\"])),(_l()(),core.qb(15,0,null,null,3,\"ion-item\",[],null,null,null,ionic_angular_ngfactory.T,ionic_angular_ngfactory.o)),core.pb(16,49152,null,0,ionic_angular.E,[core.h,core.k,core.x],null,null),(_l()(),core.qb(17,0,null,0,1,\"p\",[],null,null,null,null,null)),(_l()(),core.Gb(18,null,[\"Meal 2: \",\" orders\"])),(_l()(),core.qb(19,0,null,null,3,\"ion-item\",[],null,null,null,ionic_angular_ngfactory.T,ionic_angular_ngfactory.o)),core.pb(20,49152,null,0,ionic_angular.E,[core.h,core.k,core.x],null,null),(_l()(),core.qb(21,0,null,0,1,\"p\",[],null,null,null,null,null)),(_l()(),core.Gb(22,null,[\"Meal 3: \",\" orders\"])),(_l()(),core.qb(23,0,null,0,3,\"div\",[[\"class\",\"actions\"]],null,null,null,null,null)),(_l()(),core.qb(24,0,null,null,2,\"ion-button\",[],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==_v.component.mainAction()&&ad),ad}),ionic_angular_ngfactory.G,ionic_angular_ngfactory.b)),core.pb(25,49152,null,0,ionic_angular.h,[core.h,core.k,core.x],null,null),(_l()(),core.Gb(-1,0,[\"Messages\"]))],(function(_ck,_v){_ck(_v,1,0,!0)}),(function(_ck,_v){var _co=_v.component;_ck(_v,10,0,_co.total),_ck(_v,14,0,_co.bookings[0]),_ck(_v,18,0,_co.bookings[1]),_ck(_v,22,0,_co.bookings[2])}))}function View_DhStaffMainPage_Host_0(_l){return core.Hb(0,[(_l()(),core.qb(0,0,null,null,1,\"app-dh-staff-main\",[],null,null,null,View_DhStaffMainPage_0,RenderType_DhStaffMainPage)),core.pb(1,114688,null,0,DhStaffMainPage,[angular_fire_auth.a,storage_service.a,angular_fire_firestore.a,router.m],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var DhStaffMainPageNgFactory=core.mb(\"app-dh-staff-main\",DhStaffMainPage,View_DhStaffMainPage_Host_0,{},{},[]),common=__webpack_require__(\"SVse\"),fesm2015_forms=__webpack_require__(\"s7LF\");class DhStaffMainPageRoutingModule{}__webpack_require__.d(__webpack_exports__,\"DhStaffMainPageModuleNgFactory\",(function(){return DhStaffMainPageModuleNgFactory}));var DhStaffMainPageModuleNgFactory=core.nb(DhStaffMainPageModule,[],(function(_l){return core.zb([core.Ab(512,core.j,core.Y,[[8,[router_ngfactory.a,DhStaffMainPageNgFactory]],[3,core.j],core.v]),core.Ab(4608,common.k,common.j,[core.s,[2,common.q]]),core.Ab(4608,fesm2015_forms.l,fesm2015_forms.l,[]),core.Ab(4608,ionic_angular.a,ionic_angular.a,[core.x,core.g]),core.Ab(4608,ionic_angular.Ab,ionic_angular.Ab,[ionic_angular.a,core.j,core.p]),core.Ab(4608,ionic_angular.Db,ionic_angular.Db,[ionic_angular.a,core.j,core.p]),core.Ab(1073742336,common.b,common.b,[]),core.Ab(1073742336,fesm2015_forms.k,fesm2015_forms.k,[]),core.Ab(1073742336,fesm2015_forms.b,fesm2015_forms.b,[]),core.Ab(1073742336,ionic_angular.yb,ionic_angular.yb,[]),core.Ab(1073742336,router.o,router.o,[[2,router.t],[2,router.m]]),core.Ab(1073742336,DhStaffMainPageRoutingModule,DhStaffMainPageRoutingModule,[]),core.Ab(1073742336,DhStaffMainPageModule,DhStaffMainPageModule,[]),core.Ab(1024,router.k,(function(){return[[{path:\"\",component:DhStaffMainPage}]]}),[])])}))}}]);","extractedComments":[]}