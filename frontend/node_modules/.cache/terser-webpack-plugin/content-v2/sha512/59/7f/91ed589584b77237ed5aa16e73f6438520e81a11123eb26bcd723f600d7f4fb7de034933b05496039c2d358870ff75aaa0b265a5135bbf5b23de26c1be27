{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{L2wv:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__);var core=__webpack_require__(\"8Y7J\");class SellBooksPageModule{}var router_ngfactory=__webpack_require__(\"pMnS\"),ionic_angular_ngfactory=__webpack_require__(\"MKJQ\"),ionic_angular=__webpack_require__(\"sZkV\"),fesm2015_forms=__webpack_require__(\"s7LF\"),toast_service=__webpack_require__(\"2g2N\");class SellBooksPage{constructor(firestore,storage,toast,auth,router){this.firestore=firestore,this.storage=storage,this.toast=toast,this.auth=auth,this.router=router,this.data={Description:\"\",\"Image-URL\":[],\"Image-REF\":[],Owner:\"\",Price:\"\",Title:\"\",id:\"\"}}addBook(){this.auth.currentUser.then(res=>{this.data.Owner=res.uid;for(var i=0;i<this.images.length;++i)this.storage.storage.ref().child(\"book_pic/\"+this.images.item(i).name).put(this.images.item(i)).then(res=>{this.data[\"Image-REF\"].push(res.ref.toString()),this.firestore.firestore.collection(\"Books\").add(this.data).then(()=>{this.toast.presentToast(\"Successful upload\"),this.data={Description:\"\",\"Image-URL\":[],\"Image-REF\":[],Owner:\"\",Price:\"\",Title:\"\",id:\"\"},this.router.navigate([\"sell-books\"])}).catch(err=>{console.dir(err)})}).catch(err=>{console.log(\"Failure\"),console.dir(err)})})}remove(item){console.log(item),item.imageUrl&&this.storage.ref(\"book_pic/\"+item.id).delete()}ngOnInit(){}}var angular_fire_firestore=__webpack_require__(\"wD+u\"),angular_fire_storage=__webpack_require__(\"fMxG\"),angular_fire_auth=__webpack_require__(\"VRCc\"),router=__webpack_require__(\"iInd\"),RenderType_SellBooksPage=core.ob({encapsulation:0,styles:[[\"ion-text[_ngcontent-%COMP%]{position:absolute;top:10%}ion-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:30px;color:#416;font-style:italic;font-family:cursive}.ion-padding[_ngcontent-%COMP%]{top:20%;margin-bottom:10%}ion-button[_ngcontent-%COMP%]{position:absolute;width:80%;margin-left:5%;margin-bottom:3%;--background:#D4AF37}\"]],data:{}});function View_SellBooksPage_0(_l){return core.Hb(0,[(_l()(),core.qb(0,0,null,null,48,\"ion-content\",[[\"class\",\"ion-padding\"]],null,null,null,ionic_angular_ngfactory.N,ionic_angular_ngfactory.i)),core.pb(1,49152,null,0,ionic_angular.r,[core.h,core.k,core.x],{fullscreen:[0,\"fullscreen\"]},null),(_l()(),core.qb(2,0,null,0,3,\"ion-text\",[],null,null,null,ionic_angular_ngfactory.gb,ionic_angular_ngfactory.B)),core.pb(3,49152,null,0,ionic_angular.rb,[core.h,core.k,core.x],null,null),(_l()(),core.qb(4,0,null,0,1,\"h1\",[],null,null,null,null,null)),(_l()(),core.Gb(-1,null,[\"Sell Books\"])),(_l()(),core.qb(6,0,null,0,42,\"ion-list\",[],null,null,null,ionic_angular_ngfactory.V,ionic_angular_ngfactory.q)),core.pb(7,49152,null,0,ionic_angular.L,[core.h,core.k,core.x],null,null),(_l()(),core.qb(8,0,null,0,40,\"form\",[[\"class\",\"ion-padding\"],[\"novalidate\",\"\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"submit\"],[null,\"reset\"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return\"submit\"===en&&(ad=!1!==core.Cb(_v,10).onSubmit($event)&&ad),\"reset\"===en&&(ad=!1!==core.Cb(_v,10).onReset()&&ad),\"submit\"===en&&(ad=!1!==_co.addBook()&&ad),ad}),null,null)),core.pb(9,16384,null,0,fesm2015_forms.m,[],null,null),core.pb(10,4210688,null,0,fesm2015_forms.i,[[8,null],[8,null]],null,null),core.Db(2048,null,fesm2015_forms.a,null,[fesm2015_forms.i]),core.pb(12,16384,null,0,fesm2015_forms.h,[[4,fesm2015_forms.a]],null,null),(_l()(),core.qb(13,0,null,null,24,\"ion-item\",[],null,null,null,ionic_angular_ngfactory.T,ionic_angular_ngfactory.o)),core.pb(14,49152,null,0,ionic_angular.E,[core.h,core.k,core.x],null,null),(_l()(),core.qb(15,0,null,0,22,\"ion-list\",[],null,null,null,ionic_angular_ngfactory.V,ionic_angular_ngfactory.q)),core.pb(16,49152,null,0,ionic_angular.L,[core.h,core.k,core.x],null,null),(_l()(),core.qb(17,0,null,0,6,\"ion-input\",[[\"name\",\"bookName\"],[\"placeholder\",\"Book Name\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngModelChange\"],[null,\"ionBlur\"],[null,\"ionChange\"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return\"ionBlur\"===en&&(ad=!1!==core.Cb(_v,18)._handleBlurEvent($event.target)&&ad),\"ionChange\"===en&&(ad=!1!==core.Cb(_v,18)._handleInputEvent($event.target)&&ad),\"ngModelChange\"===en&&(ad=!1!==(_co.data.Title=$event)&&ad),ad}),ionic_angular_ngfactory.S,ionic_angular_ngfactory.n)),core.pb(18,4341760,null,0,ionic_angular.Gb,[core.p,core.k],null,null),core.Db(1024,null,fesm2015_forms.e,(function(p0_0){return[p0_0]}),[ionic_angular.Gb]),core.pb(20,671744,null,0,fesm2015_forms.j,[[2,fesm2015_forms.a],[8,null],[8,null],[6,fesm2015_forms.e]],{name:[0,\"name\"],model:[1,\"model\"]},{update:\"ngModelChange\"}),core.Db(2048,null,fesm2015_forms.f,null,[fesm2015_forms.j]),core.pb(22,16384,null,0,fesm2015_forms.g,[[4,fesm2015_forms.f]],null,null),core.pb(23,49152,null,0,ionic_angular.D,[core.h,core.k,core.x],{name:[0,\"name\"],placeholder:[1,\"placeholder\"]},null),(_l()(),core.qb(24,0,null,0,6,\"ion-input\",[[\"name\",\"bookPrice\"],[\"placeholder\",\"Book Price\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngModelChange\"],[null,\"ionBlur\"],[null,\"ionChange\"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return\"ionBlur\"===en&&(ad=!1!==core.Cb(_v,25)._handleBlurEvent($event.target)&&ad),\"ionChange\"===en&&(ad=!1!==core.Cb(_v,25)._handleInputEvent($event.target)&&ad),\"ngModelChange\"===en&&(ad=!1!==(_co.data.Price=$event)&&ad),ad}),ionic_angular_ngfactory.S,ionic_angular_ngfactory.n)),core.pb(25,4341760,null,0,ionic_angular.Gb,[core.p,core.k],null,null),core.Db(1024,null,fesm2015_forms.e,(function(p0_0){return[p0_0]}),[ionic_angular.Gb]),core.pb(27,671744,null,0,fesm2015_forms.j,[[2,fesm2015_forms.a],[8,null],[8,null],[6,fesm2015_forms.e]],{name:[0,\"name\"],model:[1,\"model\"]},{update:\"ngModelChange\"}),core.Db(2048,null,fesm2015_forms.f,null,[fesm2015_forms.j]),core.pb(29,16384,null,0,fesm2015_forms.g,[[4,fesm2015_forms.f]],null,null),core.pb(30,49152,null,0,ionic_angular.D,[core.h,core.k,core.x],{name:[0,\"name\"],placeholder:[1,\"placeholder\"]},null),(_l()(),core.qb(31,0,null,0,6,\"ion-input\",[[\"name\",\"bookDescription\"],[\"placeholder\",\"Book Description\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngModelChange\"],[null,\"ionBlur\"],[null,\"ionChange\"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return\"ionBlur\"===en&&(ad=!1!==core.Cb(_v,32)._handleBlurEvent($event.target)&&ad),\"ionChange\"===en&&(ad=!1!==core.Cb(_v,32)._handleInputEvent($event.target)&&ad),\"ngModelChange\"===en&&(ad=!1!==(_co.data.Description=$event)&&ad),ad}),ionic_angular_ngfactory.S,ionic_angular_ngfactory.n)),core.pb(32,4341760,null,0,ionic_angular.Gb,[core.p,core.k],null,null),core.Db(1024,null,fesm2015_forms.e,(function(p0_0){return[p0_0]}),[ionic_angular.Gb]),core.pb(34,671744,null,0,fesm2015_forms.j,[[2,fesm2015_forms.a],[8,null],[8,null],[6,fesm2015_forms.e]],{name:[0,\"name\"],model:[1,\"model\"]},{update:\"ngModelChange\"}),core.Db(2048,null,fesm2015_forms.f,null,[fesm2015_forms.j]),core.pb(36,16384,null,0,fesm2015_forms.g,[[4,fesm2015_forms.f]],null,null),core.pb(37,49152,null,0,ionic_angular.D,[core.h,core.k,core.x],{name:[0,\"name\"],placeholder:[1,\"placeholder\"]},null),(_l()(),core.qb(38,0,null,null,7,\"ion-item\",[[\"lines\",\"none\"]],null,null,null,ionic_angular_ngfactory.T,ionic_angular_ngfactory.o)),core.pb(39,49152,null,0,ionic_angular.E,[core.h,core.k,core.x],{lines:[0,\"lines\"]},null),(_l()(),core.qb(40,0,null,0,5,\"ion-list\",[],null,null,null,ionic_angular_ngfactory.V,ionic_angular_ngfactory.q)),core.pb(41,49152,null,0,ionic_angular.L,[core.h,core.k,core.x],null,null),(_l()(),core.qb(42,0,null,0,2,\"ion-label\",[],null,null,null,ionic_angular_ngfactory.U,ionic_angular_ngfactory.p)),core.pb(43,49152,null,0,ionic_angular.K,[core.h,core.k,core.x],null,null),(_l()(),core.Gb(-1,0,[\"Upload image(s)\"])),(_l()(),core.qb(45,0,null,0,0,\"input\",[[\"multiple\",\"\"],[\"name\",\"inputFile\"],[\"required\",\"\"],[\"type\",\"file\"]],null,[[null,\"change\"]],(function(_v,en,$event){var ad=!0;return\"change\"===en&&(ad=!1!==(_v.component.images=$event.target.files)&&ad),ad}),null,null)),(_l()(),core.qb(46,0,null,null,2,\"ion-button\",[[\"type\",\"submit\"]],null,null,null,ionic_angular_ngfactory.G,ionic_angular_ngfactory.b)),core.pb(47,49152,null,0,ionic_angular.h,[core.h,core.k,core.x],{type:[0,\"type\"]},null),(_l()(),core.Gb(-1,0,[\"Add\"]))],(function(_ck,_v){var _co=_v.component;_ck(_v,1,0,!0),_ck(_v,20,0,\"bookName\",_co.data.Title),_ck(_v,23,0,\"bookName\",\"Book Name\"),_ck(_v,27,0,\"bookPrice\",_co.data.Price),_ck(_v,30,0,\"bookPrice\",\"Book Price\"),_ck(_v,34,0,\"bookDescription\",_co.data.Description),_ck(_v,37,0,\"bookDescription\",\"Book Description\"),_ck(_v,39,0,\"none\"),_ck(_v,47,0,\"submit\")}),(function(_ck,_v){_ck(_v,8,0,core.Cb(_v,12).ngClassUntouched,core.Cb(_v,12).ngClassTouched,core.Cb(_v,12).ngClassPristine,core.Cb(_v,12).ngClassDirty,core.Cb(_v,12).ngClassValid,core.Cb(_v,12).ngClassInvalid,core.Cb(_v,12).ngClassPending),_ck(_v,17,0,core.Cb(_v,22).ngClassUntouched,core.Cb(_v,22).ngClassTouched,core.Cb(_v,22).ngClassPristine,core.Cb(_v,22).ngClassDirty,core.Cb(_v,22).ngClassValid,core.Cb(_v,22).ngClassInvalid,core.Cb(_v,22).ngClassPending),_ck(_v,24,0,core.Cb(_v,29).ngClassUntouched,core.Cb(_v,29).ngClassTouched,core.Cb(_v,29).ngClassPristine,core.Cb(_v,29).ngClassDirty,core.Cb(_v,29).ngClassValid,core.Cb(_v,29).ngClassInvalid,core.Cb(_v,29).ngClassPending),_ck(_v,31,0,core.Cb(_v,36).ngClassUntouched,core.Cb(_v,36).ngClassTouched,core.Cb(_v,36).ngClassPristine,core.Cb(_v,36).ngClassDirty,core.Cb(_v,36).ngClassValid,core.Cb(_v,36).ngClassInvalid,core.Cb(_v,36).ngClassPending)}))}function View_SellBooksPage_Host_0(_l){return core.Hb(0,[(_l()(),core.qb(0,0,null,null,1,\"app-sell-books\",[],null,null,null,View_SellBooksPage_0,RenderType_SellBooksPage)),core.pb(1,114688,null,0,SellBooksPage,[angular_fire_firestore.a,angular_fire_storage.a,toast_service.a,angular_fire_auth.a,router.m],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var SellBooksPageNgFactory=core.mb(\"app-sell-books\",SellBooksPage,View_SellBooksPage_Host_0,{},{},[]),common=__webpack_require__(\"SVse\");class SellBooksPageRoutingModule{}__webpack_require__.d(__webpack_exports__,\"SellBooksPageModuleNgFactory\",(function(){return SellBooksPageModuleNgFactory}));var SellBooksPageModuleNgFactory=core.nb(SellBooksPageModule,[],(function(_l){return core.zb([core.Ab(512,core.j,core.Y,[[8,[router_ngfactory.a,SellBooksPageNgFactory]],[3,core.j],core.v]),core.Ab(4608,common.k,common.j,[core.s,[2,common.q]]),core.Ab(4608,fesm2015_forms.l,fesm2015_forms.l,[]),core.Ab(4608,ionic_angular.a,ionic_angular.a,[core.x,core.g]),core.Ab(4608,ionic_angular.Ab,ionic_angular.Ab,[ionic_angular.a,core.j,core.p]),core.Ab(4608,ionic_angular.Db,ionic_angular.Db,[ionic_angular.a,core.j,core.p]),core.Ab(1073742336,common.b,common.b,[]),core.Ab(1073742336,fesm2015_forms.k,fesm2015_forms.k,[]),core.Ab(1073742336,fesm2015_forms.b,fesm2015_forms.b,[]),core.Ab(1073742336,ionic_angular.yb,ionic_angular.yb,[]),core.Ab(1073742336,router.o,router.o,[[2,router.t],[2,router.m]]),core.Ab(1073742336,SellBooksPageRoutingModule,SellBooksPageRoutingModule,[]),core.Ab(1073742336,SellBooksPageModule,SellBooksPageModule,[]),core.Ab(1024,router.k,(function(){return[[{path:\"\",component:SellBooksPage}]]}),[])])}))}}]);","extractedComments":[]}