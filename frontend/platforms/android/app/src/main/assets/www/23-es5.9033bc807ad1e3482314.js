function _defineProperties(n,l){for(var t=0;t<l.length;t++){var e=l[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}function _createClass(n,l,t){return l&&_defineProperties(n.prototype,l),t&&_defineProperties(n,t),n}function _classCallCheck(n,l){if(!(n instanceof l))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"0mUY":function(n,l,t){"use strict";t.r(l);var e=t("8Y7J"),u=function n(){_classCallCheck(this,n)},o=t("pMnS"),i=t("MKJQ"),s=t("sZkV"),a=t("SVse"),c=function(){function n(l,t,e){_classCallCheck(this,n),this.firestore=l,this.auth=t,this.router=e,this.conversations=[],this.users={}}return _createClass(n,[{key:"ngOnInit",value:function(){var n=this;this.auth.currentUser.then((function(l){n.firestore.firestore.collection("users/"+l.uid+"/Chats").get().then((function(l){l.forEach((function(l){l.ref.onSnapshot((function(t){var e={uid:"",name:"","Most Recent Message":""};e.uid=l.id,e["Most Recent Message"]=t.data().Messages[t.data().Messages.length-1],n.firestore.firestore.doc("users/"+l.id).get().then((function(t){e.name=t.data().Name+" "+t.data().Surname,null!=e["Most Recent Message"]&&(n.users[l.id]=e,n.conversations=Object.values(n.users))})).catch((function(n){console.dir(n)}))}))}))})).catch((function(n){console.dir(n)}))})).catch((function(n){console.dir(n)}))}},{key:"mainAction",value:function(n){this.router.navigateByUrl("message",{state:{recipient:n.Owner}})}}]),n}(),r=t("wD+u"),b=t("VRCc"),f=t("iInd"),h=e.ob({encapsulation:0,styles:[["ion-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px;color:#416;font-style:italic;font-family:cursive}.ion-padding[_ngcontent-%COMP%]{top:20%;margin-bottom:10%}.ion-padding[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:12px;color:#416}ion-button[_ngcontent-%COMP%]{position:absolute;width:80%;margin-left:5%;margin-bottom:3%;--background:#D4AF37}"]],data:{}});function p(n){return e.Hb(0,[(n()(),e.qb(0,0,null,null,8,"ion-item",[],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.mainAction(n.context.$implicit)&&e),e}),i.T,i.o)),e.pb(1,49152,null,0,s.E,[e.h,e.k,e.x],null,null),(n()(),e.qb(2,0,null,0,1,"ion-thumbnail",[["slot","start"]],null,null,null,i.hb,i.C)),e.pb(3,49152,null,0,s.tb,[e.h,e.k,e.x],null,null),(n()(),e.qb(4,0,null,0,4,"ion-label",[],null,null,null,i.U,i.p)),e.pb(5,49152,null,0,s.K,[e.h,e.k,e.x],null,null),(n()(),e.qb(6,0,null,0,1,"h1",[],null,null,null,null,null)),(n()(),e.Gb(7,null,["",""])),(n()(),e.Gb(8,0,[" "," "]))],null,(function(n,l){n(l,7,0,l.context.$implicit.name),n(l,8,0,l.context.$implicit["Most Recent Message"].content)}))}function g(n){return e.Hb(0,[(n()(),e.qb(0,0,null,null,7,"ion-header",[],null,null,null,i.Q,i.l)),e.pb(1,49152,null,0,s.y,[e.h,e.k,e.x],null,null),(n()(),e.qb(2,0,null,0,5,"ion-toolbar",[],null,null,null,i.jb,i.E)),e.pb(3,49152,null,0,s.wb,[e.h,e.k,e.x],null,null),(n()(),e.qb(4,0,null,0,3,"ion-title",[],null,null,null,i.ib,i.D)),e.pb(5,49152,null,0,s.ub,[e.h,e.k,e.x],null,null),(n()(),e.qb(6,0,null,0,1,"h1",[],null,null,null,null,null)),(n()(),e.Gb(-1,null,["Messages"])),(n()(),e.qb(8,0,null,null,4,"ion-content",[["class","ion-padding"]],null,null,null,i.N,i.i)),e.pb(9,49152,null,0,s.r,[e.h,e.k,e.x],{fullscreen:[0,"fullscreen"]},null),(n()(),e.qb(10,0,null,0,2,"div",[["class","actions"]],null,null,null,null,null)),(n()(),e.fb(16777216,null,null,1,null,p)),e.pb(12,278528,null,0,a.h,[e.N,e.J,e.q],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){var t=l.component;n(l,9,0,!0),n(l,12,0,t.conversations)}),null)}var d=e.mb("app-message-list",c,(function(n){return e.Hb(0,[(n()(),e.qb(0,0,null,null,1,"app-message-list",[],null,null,null,g,h)),e.pb(1,114688,null,0,c,[r.a,b.a,f.m],null,null)],(function(n,l){n(l,1,0)}),null)}),{},{},[]),m=t("s7LF"),k=function n(){_classCallCheck(this,n)};t.d(l,"MessageListPageModuleNgFactory",(function(){return M}));var M=e.nb(u,[],(function(n){return e.zb([e.Ab(512,e.j,e.Y,[[8,[o.a,d]],[3,e.j],e.v]),e.Ab(4608,a.k,a.j,[e.s,[2,a.q]]),e.Ab(4608,m.l,m.l,[]),e.Ab(4608,s.a,s.a,[e.x,e.g]),e.Ab(4608,s.Ab,s.Ab,[s.a,e.j,e.p]),e.Ab(4608,s.Db,s.Db,[s.a,e.j,e.p]),e.Ab(1073742336,a.b,a.b,[]),e.Ab(1073742336,m.k,m.k,[]),e.Ab(1073742336,m.b,m.b,[]),e.Ab(1073742336,s.yb,s.yb,[]),e.Ab(1073742336,f.o,f.o,[[2,f.t],[2,f.m]]),e.Ab(1073742336,k,k,[]),e.Ab(1073742336,u,u,[]),e.Ab(1024,f.k,(function(){return[[{path:"",component:c}]]}),[])])}))}}]);